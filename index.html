<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Rock,Paper,Scissors by taras08</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <h1>Rock, Paper, Scissors by taras08</h1>
        <div id="btn">
            <button id = 'Rock'>Rock</button>
            <button id = 'Paper'>Paper</button>
            <button id = 'Scissors'>Scissors</button>
        </div>
        <div id="display1"> </div>
        <div class="board">
            <div id="box1">
                <div>Your Score</div>
                <div id="player">0</div>
            </div>
            <div id="box2">
                <div>Computer Score</div>
                <div id="computer">0</div>
            </div>    
        </div>
        
    </body>
<script>
    let options = ['Rock', 'Paper', 'Scissors'];
    const buttons = document.querySelectorAll('button');
    const body = document.querySelector('body')
    const div = document.querySelector('div.board')
    const round = document.querySelector('div#display1')
    round.classList.add('display')

    buttons.forEach((button) => {
    button.addEventListener('click', (e) => {   
        game(button.id); 
    });
});

    function computerPlay() {
        return options[Math.floor(Math.random() * options.length)];
    }

    const playerscore = document.querySelector('div#player')
    const computerscore = document.querySelector('div#computer')
    let cscore = 0;
    let pscore = 0;
    
    function playRound(player, computer) {     
        if ((player === 'Rock' && computer === 'Scissors') ||
        (player === 'Paper' && computer === 'Rock') ||
        (player === 'Scissors' && computer === 'Paper')) {
            round.textContent = 'You won this round: ' + player + ' beats ' + computer;
            return 1;
        } else if ((computer === 'Rock' && player === 'Scissors') ||
        (computer === 'Paper' && player === 'Rock') ||
        (computer === 'Scissors' && player === 'Paper')) {
            round.textContent = 'You lost this round: '+ computer + ' beats ' + player;
            return -1;
        } else {
            round.textContent = 'I\'ts a draw: ' + player + ' eqals ' + computer;
            return 0;
        }
    } 
    
    function refreshPage(){
    window.location.reload();
} 
    const divbtn = document.createElement('div')
    divbtn.classList.add('resetbtn')
    const resetbtn = document.createElement('button');
    resetbtn.textContent = "Play Again";
    resetbtn.style.fontSize = '25px'
    resetbtn.addEventListener('click', (e) => {
    refreshPage();
});
    divbtn.appendChild(resetbtn);
    function game(playerSelection){
        
        let playerScore = 0
        let compScore = 0
        const computerSelection = computerPlay(); 
        const roundResult = playRound(playerSelection, computerSelection);
            if ( roundResult === 1) {
                pscore++;
                playerscore.innerHTML = pscore;
                if (pscore === 5) {
                let divb = document.getElementById('btn');
                body.replaceChild(divbtn, divb);
                round.textContent = 'Congrats! You won the game.' ;   
                round.style.cssText = "color : green"
                round.style.fontSize = '50px'
            }    
            } else if (roundResult === -1) {
                cscore++;
                computerscore.innerHTML = cscore;
                if (cscore === 5) {
                let divb = document.getElementById('btn');
                body.replaceChild(divbtn, divb);
                round.textContent = 'You lost it' 
                round.style.cssText = "color : red" 
                round.style.fontSize = '50px'
                }
            } else {
                return
        }  
        

    } 
    
</script>
</html>


